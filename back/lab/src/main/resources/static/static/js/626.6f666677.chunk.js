"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[626],{13400:(e,a,t)=>{t.d(a,{Fp:()=>i,Gj:()=>C,L1:()=>f,QM:()=>x,Qp:()=>r,Ur:()=>m,WN:()=>z,YX:()=>l,ZD:()=>y,Z_:()=>v,hK:()=>b,i$:()=>n,iC:()=>j,lg:()=>u,mZ:()=>w,nC:()=>h,no:()=>g,oK:()=>d,qw:()=>A,r_:()=>p,u5:()=>N,uF:()=>o,zu:()=>k});var s=t(86213);const n="http://223.130.157.92:22222",c="".concat(n,"/api/community"),i=async e=>(await s.A.post("".concat(c,"/tip/add"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,l=async(e,a,t)=>{const{page:n,size:i}=e;return(await s.A.get("".concat(c,"/tip/list"),{params:{page:n,size:i,search:a,sort:t}})).data},o=async e=>(await s.A.get("".concat(c,"/tip/read/").concat(e))).data,r=async(e,a)=>(await s.A.put("".concat(c,"/tip/modify/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})).data,d=async e=>(await s.A.delete("".concat(c,"/delete/").concat(e))).data,m=async e=>(await s.A.post("".concat(c,"/qna/add"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,p=async(e,a,t)=>{const{page:n,size:i}=e;return(await s.A.get("".concat(c,"/qna/list"),{params:{page:n,size:i,search:a,sort:t}})).data},u=async e=>(await s.A.get("".concat(c,"/qna/read/").concat(e))).data,g=async(e,a)=>(await s.A.put("".concat(c,"/qna/modify/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})).data,x=async e=>(await s.A.post("".concat(c,"/review/add"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,h=async(e,a,t)=>{const{page:n,size:i}=e;return(await s.A.get("".concat(c,"/review/list"),{params:{page:n,size:i,search:a,sort:t}})).data},f=async e=>(await s.A.get("".concat(c,"/review/read/").concat(e))).data,y=async(e,a)=>(await s.A.put("".concat(c,"/review/modify/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})).data,b=async e=>(await s.A.post("".concat(c,"/help/add"),e,{headers:{"Content-Type":"multipart/form-data"}})).data,v=async e=>{const{page:a,size:t}=e;return(await s.A.get("".concat(c,"/help/list"),{params:{page:a,size:t}})).data},w=async e=>(await s.A.get("".concat(c,"/help/read/").concat(e))).data,j=async(e,a)=>(await s.A.put("".concat(c,"/help/modify/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}})).data,N=async e=>(await s.A.put("".concat(c,"/increase/").concat(e))).data,C=async e=>(await s.A.put("".concat(c,"/decrease/").concat(e))).data,A=async e=>{const{page:a,size:t}=e;return(await s.A.get("".concat(c,"/latest"),{params:{page:a,size:t}})).data},k=async e=>(await s.A.get("".concat(c,"/mylist/").concat(e))).data,z=async(e,a)=>{const{page:t,size:n}=e;return(await s.A.get("".concat(c,"/mylistall"),{params:{page:t,size:n,id:a}})).data}},54949:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(70579);const n=e=>{let{title:a,content:t,callbackFn:n}=e;return(0,s.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full items-center justify-center bg-black bg-opacity-20",onClick:()=>{n&&n()},children:(0,s.jsxs)("div",{className:"relative bg-white shadow opacity-100 w-1/4 rounded-md px-6 min-w-[300px] flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"w-full text-center bg-warming-400 mt-6 mb-6 pb-2 text-xl border-b-2 border-gray-500",children:a}),(0,s.jsx)("div",{className:"w-full text-center text-xl pt-4 pb-4",children:t}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsx)("button",{className:"rounded bg-mainColor mt-4 mb-4 px-6 py-2 text-lg text-white hover:bg-teal-600",onClick:()=>{n&&n()},children:"\ub2eb\uae30"})})]})})}},49267:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(73216),n=t(35475);const c=(e,a)=>e?parseInt(e):a,i=()=>{const e=(0,s.Zp)(),[a]=(0,n.ok)(),t=c(a.get("page"),1),i=c(a.get("size"),10),l=(0,n.PI)({page:t,size:i}).toString();return{moveToList:a=>{let t="";if(a){const e=c(a.page,1),s=c(a.size,10);t=(0,n.PI)({page:e,size:s}).toString()}else t=l;e({pathname:"../review/list",search:t})},moveToModify:a=>{console.log(l),e({pathname:"../review/modify/".concat(a),search:l})},moveToRead:a=>{console.log(l),e({pathname:"../review/read/".concat(a),search:l})},moveToAdd:()=>{e({pathname:"../review/add",search:""})},page:t,size:i}}},30626:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(73216),n=t(65043),c=t(13400),i=t(54949),l=t(49267),o=t(70579);const r={user_id:"iamuser",type:"3",title:"",content:"",commHit:0,commCategory:"",nickname:"\uae40\uc720\uc800",files:[],uploadFileNames:[]},d=c.i$,m=e=>{let{commNo:a}=e;const[t,s]=(0,n.useState)(null),[m,p]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),[x,h]=(0,n.useState)({...r}),{moveToRead:f}=(0,l.A)(),y=(0,n.useRef)();(0,n.useEffect)((()=>{(0,c.L1)(a).then((e=>{console.log(e),h(e)}))}),[a]);const b=e=>{x[e.target.name]=e.target.value,h({...x})},v=(e,a)=>{if(a)g((a=>a.filter(((a,t)=>t!==e)))),w(e);else{const a=x.uploadFileNames.filter(((a,t)=>t!==e));x.uploadFileNames=a,h({...x})}},w=e=>{const a=new DataTransfer;Array.from(y.current.files).forEach(((t,s)=>{s!==e&&a.items.add(t)})),y.current.files=a.files};return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"space-y-12 text-base",children:(0,o.jsx)("div",{className:"border-b border-gray-900/10 pb-12",children:(0,o.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[t?(0,o.jsx)(i.A,{title:"\uc54c\ub9bc",content:"".concat(t),callbackFn:()=>{s(null),f(a)}}):(0,o.jsx)(o.Fragment,{}),m?(0,o.jsx)(i.A,{title:"\uc54c\ub9bc",content:"".concat(m),callbackFn:()=>p(null)}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)("div",{className:"sm:col-span-3",children:[(0,o.jsx)("label",{htmlFor:"commCategory",className:"block font-medium leading-6 text-gray-900",children:"\uce74\ud14c\uace0\ub9ac"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsxs)("select",{id:"commCategory",name:"commCategory",value:x.commCategory,onChange:b,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600",children:[(0,o.jsx)("option",{value:"1",children:"\ubd80\ub3d9\uc0b0"}),(0,o.jsx)("option",{value:"2",children:"\uc778\ud14c\ub9ac\uc5b4"}),(0,o.jsx)("option",{value:"3",children:"\ud560\uc778\uc815\ubcf4"}),(0,o.jsx)("option",{value:"4",children:"\uae30\ud0c0"})]})})]}),(0,o.jsxs)("div",{className:"col-span-full",children:[(0,o.jsx)("label",{htmlFor:"title",className:"block font-medium leading-6 text-gray-900",children:"\uc81c\ubaa9"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("input",{type:"text",name:"title",id:"title",value:x.title,onChange:b,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600"})})]}),(0,o.jsxs)("div",{className:"col-span-full",children:[(0,o.jsx)("label",{htmlFor:"content",className:"block font-medium leading-6 text-gray-900",children:"\ub0b4\uc6a9"}),(0,o.jsx)("div",{className:"mt-2",children:(0,o.jsx)("textarea",{id:"content",name:"content",value:x.content,onChange:b,rows:"6",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",children:x.content})})]}),(0,o.jsx)("div",{className:"col-span-full",children:(0,o.jsxs)("div",{className:"flex flex-wrap items-start",children:[x.uploadFileNames.map(((e,a)=>(0,o.jsxs)("div",{className:"relative inline-block",children:[(0,o.jsx)("img",{alt:"review",src:"".concat(d,"/api/community/review/display/").concat(e),className:"my-3 mx-1 w-36 h-36 object-cover"}),(0,o.jsx)("button",{type:"button",onClick:()=>v(a,!1),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center","aria-label":"Remove image",children:"X"})]},a))),u.map(((e,a)=>(0,o.jsxs)("div",{className:"relative inline-block",children:[(0,o.jsx)("img",{src:e.url,alt:e.name,className:"my-3 mx-1 w-36 h-36 object-cover"}),(0,o.jsx)("button",{type:"button",onClick:()=>v(a,!0),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center","aria-label":"Remove image",children:"X"})]},a))),(0,o.jsxs)("div",{className:"relative inline-block my-3 mx-1 w-36 h-36 border-2 border-gray-300 border-dashed rounded-md items-center justify-center cursor-pointer",children:[(0,o.jsx)("input",{ref:y,id:"file-upload",type:"file",multiple:!0,onChange:e=>{const a=Array.from(e.target.files);if(a.filter((e=>!e.type.startsWith("image/"))).length>0)return p("\uc774\ubbf8\uc9c0 \ud30c\uc77c\ub9cc \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4"),y.current.value="",void g([]);const t=a.map((e=>({url:URL.createObjectURL(e),name:e.name})));g(t)},className:"absolute inset-0 opacity-0 cursor-pointer"}),(0,o.jsx)("label",{htmlFor:"file-upload",className:"text-gray-500 text-4xl flex items-center justify-center h-full w-full",children:"+"})]})]})})]})})}),(0,o.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,o.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900",onClick:()=>f(x.commNo),children:"\ucde8\uc18c\ud558\uae30"}),(0,o.jsx)("button",{type:"button",className:"rounded-md bg-mainColor px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:e=>{if(!x.title||!x.content)return void p("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694");const t=y.current.files,n=new FormData;for(let a=0;a<t.length;a++)n.append("files",t[a]);n.append("user_id",x.user_id),n.append("type",x.type),n.append("title",x.title),n.append("content",x.content),n.append("commHit",x.commHit),n.append("commCategory",x.commCategory),n.append("nickname",x.nickname),n.append("uploadFileNames",x.uploadFileNames),(0,c.ZD)(a,n),s("\uac8c\uc2dc\uae00\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4")},children:"\uc218\uc815\ud558\uae30"})]})]})},p=()=>{const{commNo:e}=(0,s.g)();return(0,o.jsx)("div",{className:"text-xl flex-grow",children:(0,o.jsx)("div",{className:"m-auto bg-white w-5/6 rounded-md py-16",children:(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("div",{className:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,o.jsx)("div",{className:"inline-block min-w-full py-2 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"overflow-hidden",children:[(0,o.jsx)("div",{className:"text-xl font-semibold pl-2 my-2 border-l-4 border-teal-300",children:"\ub9ac\ubdf0\uac8c\uc2dc\ud310"}),(0,o.jsx)(m,{commNo:e})]})})})})})})}}}]);
//# sourceMappingURL=626.6f666677.chunk.js.map