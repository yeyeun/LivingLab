{"version":3,"file":"static/js/565.be342245.chunk.js","mappings":"qIAGE,MAAMA,EAASA,CAACC,EAAOC,IAChBD,EAGEE,SAASF,GAFPC,EA4CX,EAvCqBE,KACnB,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,IAAeC,EAAAA,EAAAA,MAChBC,EAAOT,EAAOO,EAAYG,IAAI,QAAS,GACvCC,EAAOX,EAAOO,EAAYG,IAAI,QAAS,IACvCE,GAAeC,EAAAA,EAAAA,IAAmB,CAAEJ,OAAME,SAAQG,WA+BxD,MAAO,CAAEC,WA7BWC,IAClB,IAAIC,EAAW,GACf,GAAID,EAAW,CACb,MAAME,EAAUlB,EAAOgB,EAAUP,KAAM,GACjCU,EAAUnB,EAAOgB,EAAUL,KAAM,IACvCM,GAAWJ,EAAAA,EAAAA,IAAmB,CAC5BJ,KAAMS,EACNP,KAAMQ,IACLL,UACL,MACEG,EAAWL,EAEbP,EAAS,CAAEe,SAAS,cAAgBC,OAAQJ,GAAW,EAiBpCK,aAdCC,IACpBC,QAAQC,IAAIb,GACZP,EAAS,CAAEe,SAAS,iBAADM,OAAmBH,GAAOF,OAAQT,GAAe,EAYnCe,WATfJ,IAClBC,QAAQC,IAAIb,GACZP,EAAS,CAAEe,SAAS,eAADM,OAAiBH,GAAOF,OAAQT,GAAe,EAOrBgB,UAJ7BA,KAChBvB,EAAS,CAAEe,SAAS,aAAeC,OAAQ,IAAK,EAGQZ,OAAME,OAAM,C,wLCpC1E,MAAMkB,EAAY,CAChBC,QAAS,GACTC,YAAa,GACbC,eAAgB,KAChBC,MAAM,EACNC,MAAM,EACNC,WAAY,EACZC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,QAAS,GA+EX,EA5EsBC,KACpB,MAAM,KAAE/B,EAAI,KAAEE,EAAI,WAAEI,EAAU,WAAEY,IAAevB,EAAAA,EAAAA,MACxCqC,EAAYC,IAAiBC,EAAAA,EAAAA,UAASd,IACtCR,EAAQuB,IAAaD,EAAAA,EAAAA,UAAS,KAC9BE,EAAMC,IAAWH,EAAAA,EAAAA,UAAS,KACjCI,EAAAA,EAAAA,YAAU,MACRC,EAAAA,EAAAA,IAAW,CAAEvC,OAAME,QAAQU,EAAQwB,GAAMI,MAAKC,IAC5C1B,QAAQC,IAAIyB,GACZR,EAAcQ,EAAK,GACnB,GACD,CAACzC,EAAME,EAAMU,EAAQwB,IAUxB,OACEM,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,+CAA8CD,SAAA,EAC3DE,EAAAA,EAAAA,KAACC,EAAAA,EAAe,CAACC,OAPHC,IAClBZ,EAAQY,EAAM,KAOVH,EAAAA,EAAAA,KAACI,EAAAA,EAAe,CAACC,SAZDF,IACpBd,EAAUc,EAAM,QAadP,EAAAA,EAAAA,MAAA,SAAOG,UAAU,yDAAwDD,SAAA,EACvEE,EAAAA,EAAAA,KAAA,SAAOD,UAAU,sDAAqDD,UACpEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEE,EAAAA,EAAAA,KAAA,MAAIM,MAAM,MAAMP,UAAU,cAAaD,SAAC,8BACxCE,EAAAA,EAAAA,KAAA,MAAIM,MAAM,MAAMP,UAAU,cAAaD,UAACE,EAAAA,EAAAA,KAAA,OAAKO,IAAKC,EAAWT,UAAU,cAAcU,IAAI,aACzFT,EAAAA,EAAAA,KAAA,MAAIM,MAAM,MAAMP,UAAU,cAAaD,SAAC,kBACxCE,EAAAA,EAAAA,KAAA,MAAIM,MAAM,MAAMP,UAAU,cAAaD,SAAC,kBACxCE,EAAAA,EAAAA,KAAA,MAAIM,MAAM,MAAMP,UAAU,cAAaD,SAAC,6BAG5CE,EAAAA,EAAAA,KAAA,SAAAF,SACGZ,EAAWX,QAAQmC,OAAS,EAC3BxB,EAAWX,QAAQoC,KAAIC,IACrBhB,EAAAA,EAAAA,MAAA,MACEG,UAAU,sHACVc,QAASA,IAAMzC,EAAWwC,EAAIE,QAAQhB,SAAA,EACtCF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,yBAAwBD,SAAA,CACd,MAArBc,EAAIG,cAAwB,qBACP,MAArBH,EAAIG,cAAwB,2BACP,MAArBH,EAAIG,cAAwB,2BACP,MAArBH,EAAIG,cAAwB,mBAE/Bf,EAAAA,EAAAA,KAAA,MAAID,UAAU,yBAAwBD,SAAEc,EAAII,WAC5CpB,EAAAA,EAAAA,MAAA,MAAIG,UAAU,yBAAwBD,SAAA,CACnCc,EAAIK,MACJL,EAAIM,OACHlB,EAAAA,EAAAA,KAAA,OAAKO,IAAKY,EAAUV,IAAI,YAAYV,UAAU,kCAGlDC,EAAAA,EAAAA,KAAA,MAAID,UAAU,yBAAwBD,SAAEc,EAAIQ,WAC5CpB,EAAAA,EAAAA,KAAA,MAAID,UAAU,yBAAwBD,SAAEc,EAAIS,iBAK9CrB,EAAAA,EAAAA,KAAA,MAAAF,UACEF,EAAAA,EAAAA,MAAA,MAAI0B,QAAQ,IAAIvB,UAAU,OAAMD,SAAA,CAAC,wEAE/BE,EAAAA,EAAAA,KAAA,OAAKO,IAAKgB,EAAQC,MAAO,GAAIf,IAAI,MAAMV,UAAU,4BAM7DC,EAAAA,EAAAA,KAACyB,EAAAA,EAAa,CAACvC,WAAYA,EAAYwC,SAAUlE,MAChD,E,eCtFP,MAkDA,EAlDiBmE,KACf,MAAM,UAAEtD,IAAcxB,EAAAA,EAAAA,MACf+E,EAAgBC,IAAqBzC,EAAAA,EAAAA,UAAS,MAC/CtC,GAAWC,EAAAA,EAAAA,MACX+E,GAAYC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,aAGzCC,EAAiB,OAATJ,QAAS,IAATA,OAAS,EAATA,EAAWI,MAgBzB,OACEtC,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,yCAAwCD,UACrDE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,gBAAeD,UAC5BE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,oCAAmCD,UAChDE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,+CAA8CD,UAC3DF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,6DAA4DD,SAAC,mCAC5EE,EAAAA,EAAAA,KAACf,EAAa,KACde,EAAAA,EAAAA,KAAA,UACEmC,KAAK,SACLpC,UAAU,oTACVc,QA1BUuB,IACnBF,EAGH7D,IAFAwD,EAAkB,+EAGpB,EAqBwC/B,SAAC,kCAQtC8B,IACC5B,EAAAA,EAAAA,KAACqC,EAAAA,EAAW,CAACpB,MAAO,eAAMqB,QAASV,EAAgBW,WA3BhCC,KACvBX,EAAkB,MAClB/E,EAAS,cAAc,MA2BjB,C","sources":["hooks/useCustomTip.js","components/community/tip/ListComponent.js","pages/community/tip/ListPage.js"],"sourcesContent":["//커뮤니티 게시판 커스텀훅\r\nimport { createSearchParams, useNavigate, useSearchParams } from \"react-router-dom\";\r\n  \r\n  const getNum = (param, defaultValue) => {\r\n    if (!param) {\r\n      return defaultValue;\r\n    }\r\n    return parseInt(param);\r\n  };\r\n  \r\n  const useCustomTip = () => {\r\n    const navigate = useNavigate();\r\n    const [queryParams] = useSearchParams();\r\n    const page = getNum(queryParams.get(\"page\"), 1);\r\n    const size = getNum(queryParams.get(\"size\"), 10);\r\n    const queryDefault = createSearchParams({ page, size }).toString();\r\n  \r\n    const moveToList = (pageParam) => {\r\n      let queryStr = \"\";\r\n      if (pageParam) {\r\n        const pageNum = getNum(pageParam.page, 1);\r\n        const sizeNum = getNum(pageParam.size, 10);\r\n        queryStr = createSearchParams({\r\n          page: pageNum,\r\n          size: sizeNum,\r\n        }).toString();\r\n      } else {\r\n        queryStr = queryDefault;\r\n      }\r\n      navigate({ pathname: `../tip/list`, search: queryStr });\r\n    };\r\n  \r\n    const moveToModify = (num) => {\r\n      console.log(queryDefault);\r\n      navigate({ pathname: `../tip/modify/${num}`, search: queryDefault }); // 수정시에 기존의 쿼리문자열을 유지하기 위해\r\n    };\r\n  \r\n    const moveToRead = (num) => {\r\n      console.log(queryDefault);\r\n      navigate({ pathname: `../tip/read/${num}`, search: queryDefault });\r\n    };\r\n  \r\n    const moveToAdd = () => {\r\n      navigate({ pathname: `../tip/add`, search: '' });\r\n    };\r\n  \r\n    return { moveToList, moveToModify, moveToRead, moveToAdd, page, size };\r\n  };\r\n\r\n  export default useCustomTip;\r\n  ","import SearchComponent from \"../SearchComponent\";\r\nimport SelectComponent from \"../SelectComponent\"\r\nimport useCustomTip from \"../../../hooks/useCustomTip\";\r\nimport { getListTip } from \"../../../api/communityApi\";\r\nimport { useEffect, useState } from \"react\";\r\nimport PageComponent from \"../../common/PageComponent\";\r\nimport nolist from \"../../../resources/images/nolist.png\"\r\nimport flagIcon from \"../../../resources/images/flagIcon.png\"\r\nimport fullheart from \"../../../resources/images/heart_full.png\";\r\n\r\nconst initState = {\r\n  dtoList: [], //한 페이지에 불러오는 게시물 갯수\r\n  pageNumList: [],\r\n  pageRequestDto: null,\r\n  prev: false,\r\n  next: false,\r\n  totalCount: 0,\r\n  prevPage: 0,\r\n  nextPage: 0,\r\n  totalPage: 0,\r\n  current: 0\r\n}\r\n\r\nconst ListComponent = () => {\r\n  const { page, size, moveToList, moveToRead } = useCustomTip();\r\n  const [serverData, setServerData] = useState(initState);\r\n  const [search, setSearch] = useState('');\r\n  const [sort, setSort] = useState('');\r\n  useEffect(() => {\r\n    getListTip({ page, size }, search, sort).then(data => {\r\n      console.log(data);\r\n      setServerData(data);\r\n    })\r\n  }, [page, size, search, sort]);\r\n\r\n  const handleSearch = (query) => {\r\n    setSearch(query);\r\n  };\r\n\r\n  const handleSort = (query) => {\r\n    setSort(query);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-center items-center w-full my-5\">\r\n        <SelectComponent onSort={handleSort} />\r\n        <SearchComponent onSearch={handleSearch} />\r\n      </div>\r\n      <table className=\"min-w-full text-center text-lg font-light text-surface\">\r\n        <thead className=\"text-sm border-b-2 border-neutral-500 font-semibold\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"w-2/12 py-4\">카테고리</th>\r\n            <th scope=\"col\" className=\"w-1/12 py-4\"><img src={fullheart} className=\"w-4 mx-auto\" alt=\"heart\"/></th>\r\n            <th scope=\"col\" className=\"w-6/12 py-4\">제목</th>\r\n            <th scope=\"col\" className=\"w-1/12 py-4\">날짜</th>\r\n            <th scope=\"col\" className=\"w-2/12 py-4\">작성자</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {serverData.dtoList.length > 0 ? (\r\n            serverData.dtoList.map(tip =>\r\n              <tr\r\n                className=\"text-base border-b border-neutral-200 transition duration-300 ease-in-out hover:bg-neutral-100 hover:cursor-pointer\"\r\n                onClick={() => moveToRead(tip.commNo)}>\r\n                <td className=\"whitespace-nowrap py-4\">\r\n                  {tip.commCategory === '1' && '부동산'}\r\n                  {tip.commCategory === '2' && '인테리어'}\r\n                  {tip.commCategory === '3' && '할인정보'}\r\n                  {tip.commCategory === '4' && '기타'}\r\n                </td>\r\n                <td className=\"whitespace-nowrap py-4\">{tip.commHit}</td>\r\n                <td className=\"whitespace-nowrap py-4\">\r\n                  {tip.title}\r\n                  {tip.flag && (\r\n                    <img src={flagIcon} alt=\"Flag Icon\" className=\"inline-block ml-2 w-5 h-5\" />\r\n                  )}\r\n                </td>\r\n                <td className=\"whitespace-nowrap py-4\">{tip.regDate}</td>\r\n                <td className=\"whitespace-nowrap py-4\">{tip.nickname}</td>\r\n              </tr>\r\n            ))\r\n            :\r\n            (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"py-4\">\r\n                  등록된 게시물이 없습니다\r\n                  <img src={nolist} width={60} alt=\"...\" className=\"mx-auto mt-3\" />\r\n                </td>\r\n              </tr>\r\n            )}\r\n        </tbody>\r\n      </table>\r\n      <PageComponent serverData={serverData} movePage={moveToList} />\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default ListComponent;","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ListComponent from \"../../../components/community/tip/ListComponent\";\r\nimport useCustomTip from \"../../../hooks/useCustomTip\";\r\nimport ResultModal from '../../../components/common/ResultModal';\r\n\r\n\r\nconst ListPage = () => {\r\n  const { moveToAdd } = useCustomTip();\r\n  const [addResultModal, setAddResultModal] = useState(null);\r\n  const navigate = useNavigate();\r\n  const loginInfo = useSelector((state) => state.loginSlice); // 전역상태에서 loginSlice는 로그인 사용자의 상태정보\r\n\r\n  // ? 사용: loginInfo가 null/undefined일때도 오류없이 처리\r\n  const email = loginInfo?.email;\r\n\r\n  const handleClickWrite = (e) => {\r\n    if (!email) {\r\n      setAddResultModal(\"로그인 후 이용할 수 있습니다\");\r\n    } else {\r\n      moveToAdd();\r\n    }\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setAddResultModal(null);\r\n    navigate('/user/login'); // 로그인 페이지로 이동\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"text-xl flex-grow\">\r\n      <div className=\"m-auto bg-white w-5/6 rounded-md py-16\">\r\n        <div className=\"flex flex-col\">\r\n          <div className=\"overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n            <div className=\"inline-block min-w-full py-2 sm:px-6 lg:px-8\">\r\n              <div className=\"overflow-hidden\">\r\n                <div className=\"text-xl font-semibold pl-2 my-2 border-l-4 border-teal-300\">자취 TIP 공유</div>\r\n                <ListComponent />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"float-right inline-block rounded bg-teal-400 px-6 pb-2 pt-2.5 text-base font-medium leading-normal text-white shadow-md transition duration-150 ease-in-out hover:bg-teal-500 focus:bg-primary-accent-300 focus:shadow-primary-2 focus:outline-none focus:ring-0 active:bg-teal-600 motion-reduce:transition-none\"\r\n                  onClick={handleClickWrite}>\r\n                  글쓰기\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {addResultModal && (\r\n        <ResultModal title={'알림'} content={addResultModal} callbackFn={handleModalClose} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListPage;\r\n"],"names":["getNum","param","defaultValue","parseInt","useCustomTip","navigate","useNavigate","queryParams","useSearchParams","page","get","size","queryDefault","createSearchParams","toString","moveToList","pageParam","queryStr","pageNum","sizeNum","pathname","search","moveToModify","num","console","log","concat","moveToRead","moveToAdd","initState","dtoList","pageNumList","pageRequestDto","prev","next","totalCount","prevPage","nextPage","totalPage","current","ListComponent","serverData","setServerData","useState","setSearch","sort","setSort","useEffect","getListTip","then","data","_jsxs","_Fragment","children","className","_jsx","SelectComponent","onSort","query","SearchComponent","onSearch","scope","src","fullheart","alt","length","map","tip","onClick","commNo","commCategory","commHit","title","flag","flagIcon","regDate","nickname","colSpan","nolist","width","PageComponent","movePage","ListPage","addResultModal","setAddResultModal","loginInfo","useSelector","state","loginSlice","email","type","e","ResultModal","content","callbackFn","handleModalClose"],"sourceRoot":""}