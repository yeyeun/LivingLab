"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[5691],{85691:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var t=a(73216),s=a(65043),r=a(48223),n=a(54949),i=a(75217),d=a(28283),o=a(31086),c=a(14061),x=a(70579);const m={roomNo:0,title:"",content:"",rentFee:0,parking:"",option1:"",location:"",files:[],uploadFileNames:[]},u=r.i$,h=e=>{let{roomNo:l}=e;const[a,t]=(0,s.useState)(m),[h,p]=(0,s.useState)(null),[f,b]=(0,s.useState)(null),[g,j]=(0,s.useState)([]),{moveToRead:N}=(0,i.A)(),w=(0,s.useRef)();(0,s.useEffect)((()=>{(0,r.HD)(l).then((e=>{console.log(e),console.log(l),t(e)}))}),[l]);const v=e=>{a[e.target.name]=e.target.value,t({...a})},y=(e,l)=>{if(l)j((l=>l.filter(((l,a)=>a!==e)))),k(e);else{const l=a.uploadFileNames.filter(((l,a)=>a!==e));a.uploadFileNames=l,t({...a})}},k=e=>{const l=new DataTransfer;Array.from(w.current.files).forEach(((a,t)=>{t!==e&&l.items.add(a)})),w.current.files=l.files};return(0,x.jsxs)("div",{id:"full",className:"w-[1200px] h-full mx-auto",children:[h&&(0,x.jsx)(n.A,{title:"\uc54c\ub9bc",content:"".concat(h),callbackFn:()=>{p(null),N(l)}}),f&&(0,x.jsx)(n.A,{title:"\uc54c\ub9bc",content:"".concat(f),callbackFn:()=>b(null)}),(0,x.jsx)("div",{id:"title-area",className:"pt-[80px] pb-[64px]",children:(0,x.jsx)("h1",{className:"text-5xl text-gray-900 leading-3 font-bold text-center tracking-tighter",children:"\uc815\ubcf4 \uc218\uc815"})}),(0,x.jsxs)("div",{id:"main-area",className:"w-full",children:[(0,x.jsxs)("section",{id:"info",className:"",children:[(0,x.jsx)("header",{className:"flex items-end justify-between mb-4",children:(0,x.jsx)("h1",{className:"text-xl text-gray-900 leading-8 font-bold ",children:"\ubc29 \uc815\ubcf4"})}),(0,x.jsxs)("table",{id:"select-info",className:"w-full border-t-2 border-gray-900 border-collapse",children:[(0,x.jsxs)("colgroup",{children:[(0,x.jsx)("col",{className:"w-[150px]"}),(0,x.jsx)("col",{})]}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc81c\ubaa9"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("div",{className:"",children:(0,x.jsx)("input",{type:"text",value:a.title,onChange:v,name:"title",className:"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none"})})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc0c1\uc138\uc124\uba85"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("label",{className:"flex flex-col w-full h-48 py-2.5 px-4 relative",children:(0,x.jsx)("div",{className:"flex-grow flex items-start w-full h-full",children:(0,x.jsx)("textarea",{row:"3",value:a.content,onChange:v,name:"content",className:"py-2.5 px-4 text-gray-900 text-sm leading-6 font-normal border bg-transparent absolute inset-0.5 select-none resize-none z-10"})})})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uae08\uc561 (\uc804\uccb4\uae30\uac04)"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-[160px]",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsxs)("div",{className:"block w-full h-11 relative",children:[(0,x.jsx)("input",{type:"text",value:a.rentFee,onChange:v,name:"rentFee",className:"w-full h-full text-gray-900 text-sm leading-6 font-normal px-9 border border-gray-200 rounded-sm bg-white select-none"}),(0,x.jsx)("p",{className:"text-gray-900 text-sm leading-6 font-normal whitespace-nowrap absolute top-1/4 right-4 pointer-events-none select-none",children:"\uc6d0"})]})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc635\uc158"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("div",{className:"",children:(0,x.jsx)("input",{type:"text",value:a.option1,onChange:v,name:"option1",className:"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none"})})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc8fc\ucc28"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"flex items-start justify-start w-full",children:(0,x.jsx)("div",{className:"flex-none w-auto",children:(0,x.jsx)("div",{className:"flex w-full pt-0 pb-0",children:(0,x.jsxs)("div",{className:"flex-grow flex flex-wrap justify-start mt-[-20px] ml-[-16px]",children:[(0,x.jsxs)("label",{className:"mt-5 ml-4 flex-none flex items-start justify-start max-w-full pt-0 pb-0",children:[(0,x.jsx)("input",{className:"flex-none w-6 h-6 m-0 border-0 rounded-full appearance-none cursor-pointer",type:"radio",name:"parking",value:"O",checked:"O"===a.parking,onChange:v,style:{backgroundImage:"O"===a.parking?"url(".concat(c.A,")"):"url(".concat(o.A,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(0,x.jsx)("p",{className:"pl-1 text-black text-sm leading-6 select-none cursor-pointer",children:"\uac00\ub2a5"})]}),(0,x.jsxs)("label",{className:"mt-5 ml-4 flex-none flex items-start justify-start max-w-full pt-0 pb-0",children:[(0,x.jsx)("input",{className:"flex-none w-6 h-6 m-0 border-0 rounded-full appearance-none cursor-pointer",type:"radio",name:"parking",value:"X",checked:"X"===a.parking,onChange:v,style:{backgroundImage:"X"===a.parking?"url(".concat(c.A,")"):"url(".concat(o.A,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(0,x.jsx)("p",{className:"pl-1 text-black text-sm leading-6 select-none cursor-pointer",children:"\ubd88\uac00\ub2a5"})]})]})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc2dc\uc791\uc77c"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("div",{className:"",children:(0,x.jsx)("input",{type:"date",value:a.rentStartDate,onChange:v,name:"rentStartDate",className:"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none"})})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc885\ub8cc\uc77c"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("div",{className:"",children:(0,x.jsx)("input",{type:"date",value:a.rentEndDate,onChange:v,name:"rentEndDate",className:"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none"})})})})})})]}),(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\uc8fc\uc18c"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsx)("div",{className:"w-auto",children:(0,x.jsx)("div",{className:"w-full flex",children:(0,x.jsx)("div",{className:"flex-grow flex flex-wrap justify-start",children:(0,x.jsx)("div",{className:"",children:(0,x.jsx)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsx)("div",{className:"w-full pl-1",children:(0,x.jsx)("input",{className:"w-full h-full text-gray-700 text-base leading-6 font-normal px-4 border border-gray-300 rounded-sm bg-white transition-all duration-150 ease-out select-none",name:"address",type:"text",placeholder:"\uc8fc\uc18c(\uc6b0\ud3b8\ubc88\ud638 \ubc0f \ub3c4\ub85c\uba85 \uac80\uc0c9)",value:a.location})}),(0,x.jsx)("div",{className:"w-1/5 text-base",children:(0,x.jsx)(d.A,{setAddress:e=>{t((l=>({...l,location:e})))}})})]})})})})})})})]})]})]})]}),(0,x.jsxs)("section",{id:"photo",className:"mt-12",children:[(0,x.jsx)("header",{className:"flex items-end justify-between mb-4",children:(0,x.jsx)("h1",{className:"text-xl text-gray-900 leading-8 font-bold ",children:"\uc0ac\uc9c4 \ub4f1\ub85d"})}),(0,x.jsxs)("table",{id:"select-info",className:"w-full border-t-2 border-gray-900 border-collapse",children:[(0,x.jsxs)("colgroup",{children:[(0,x.jsx)("col",{className:"w-[150px]"}),(0,x.jsx)("col",{})]}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{className:"border-b border-neutral-200",children:[(0,x.jsx)("th",{className:"pl-5 text-left align-middle bg-neutral-100",children:(0,x.jsx)("h1",{className:"text-[14px] text-gray-900 leading-6 font-bold",children:"\ubc29 \uc0ac\uc9c4"})}),(0,x.jsx)("td",{className:"align-middle px-4 py-5 border-l border-neutral-200",children:(0,x.jsxs)("div",{className:"col-start-3 col-span-4 mt-2 border rounded overflow-x-scroll whitespace-nowrap",children:[a.uploadFileNames.map(((e,l)=>(0,x.jsxs)("div",{className:"relative m-3 w-36 h-36 inline-block align-top border",children:[(0,x.jsx)("img",{src:"".concat(u,"/api/shareRoom/display/").concat(e),alt:"shareRoom",className:"w-36 h-36 object-cover"}),(0,x.jsx)("button",{type:"button",onClick:()=>y(l,!1),className:"absolute top-2 right-2 bg-slate-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-slate-600","aria-label":"Remove image",children:"X"})]},l))),g.map(((e,l)=>(0,x.jsxs)("div",{className:"relative m-3 w-36 h-36 inline-block align-top border",children:[(0,x.jsx)("img",{src:e.url,alt:e.name,className:"w-36 h-36 object-cover"}),(0,x.jsx)("button",{type:"button",onClick:()=>y(l,!0),className:"absolute top-2 right-2 bg-slate-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-slate-600","aria-label":"Remove image",children:"X"})]},l))),(0,x.jsxs)("div",{className:"relative inline-block m-3 w-36 h-36 border-2 border-gray-300 border-dashed rounded-md items-center justify-center cursor-pointer hover:bg-slate-100",children:[(0,x.jsx)("input",{ref:w,id:"file-upload",type:"file",multiple:!0,onChange:e=>{const l=Array.from(e.target.files);if(l.filter((e=>!e.type.startsWith("image/"))).length>0)return b("\uc774\ubbf8\uc9c0 \ud30c\uc77c\ub9cc \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4"),w.current.value="",void j([]);const a=l.map((e=>({url:URL.createObjectURL(e),name:e.name})));j(a)},className:"absolute inset-0 opacity-0 cursor-pointer"}),(0,x.jsxs)("label",{htmlFor:"file-upload",className:"text-mainColor font-bold text-4xl flex flex-col items-center justify-center h-full w-full",children:["+",(0,x.jsx)("span",{className:"text-base mt-1",children:"\uc774\ubbf8\uc9c0 \ucca8\ubd80"})]})]})]})})]})})]})]}),(0,x.jsx)("div",{className:"flex justify-end",children:(0,x.jsx)("div",{className:"relative mb-4 flex p-4 flex-wrap items-stretch",children:(0,x.jsx)("button",{type:"button",className:"rounded p-4 w-36 bg-blue-500 text-xl text-white",onClick:e=>{const t=w.current.files;if(!a.title||!a.userId)return void b("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694");if(!a.rentFee)return void b("\uae08\uc561\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694");if(!a.option1)return void b("\uc635\uc158\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694");if(!a.parking)return void b("\uc8fc\ucc28 \uac00\ub2a5\uc5ec\ubd80\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694");if(!a.rentStartDate||!a.rentEndDate)return void b("\uc2dc\uc791\uc77c\uacfc \uc885\ub8cc\uc77c\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694");if(!a.location)return void b("\uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");if(0===g.length&&0===a.uploadFileNames.length)return void b("\uc0ac\uc9c4\uc744 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694");const s=new FormData,n=((e,l)=>{const a=new Date(e),t=(new Date(l).getTime()-a.getTime())/864e5;return Math.round(t)})(a.rentStartDate,a.rentEndDate),i=a.rentFee/n;for(let l=0;l<t.length;l++)s.append("files",t[l]);s.append("title",a.title),s.append("content",a.content),s.append("rentFee",a.rentFee),s.append("parking",a.parking),s.append("option1",a.option1),s.append("location",a.location),s.append("rentStartDate",a.rentStartDate),s.append("rentEndDate",a.rentEndDate),s.append("averFee",i),s.append("days",n),s.append("uploadFileNames",a.uploadFileNames),console.log(s),(0,r.JP)(l,s),p("\uac8c\uc2dc\uae00\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4")},children:"\uc218\uc815\ud558\uae30"})})})]})]})},p=()=>{const{roomNo:e}=(0,t.g)();return(0,x.jsx)(h,{roomNo:e})}}}]);
//# sourceMappingURL=5691.5df7dd14.chunk.js.map