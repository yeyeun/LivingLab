{"version":3,"file":"static/js/5691.5df7dd14.chunk.js","mappings":"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","sources":["components/shareRoom/ModifyComponent.js","pages/shareRoom/ModifyPage.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { modify, getOne, API_SERVER_HOST } from \"../../api/shareRoomApi\";\r\nimport ResultModal from \"../common/ResultModal\";\r\nimport useRoomCustomMove from \"../../hooks/useRoomCustomMove\";\r\nimport PostComponentForRoom from \"../../components/shareRoom/PostComponentForRoom\";\r\nimport Image1 from '../../resources/images/radio1.svg';\r\nimport Image2 from '../../resources/images/radio2.svg';\r\n\r\n\r\nconst initState = {\r\n    roomNo: 0,\r\n    title: '',\r\n    content: '',\r\n    rentFee: 0,\r\n    parking: '',\r\n    option1: '',\r\n    location: '',\r\n    files: [],\r\n    uploadFileNames: []\r\n}//\r\nconst host = API_SERVER_HOST;\r\n\r\nconst ModifyComponent = ({ roomNo }) => {\r\n    const [shareRoom, setShareRoom] = useState(initState)\r\n    const [result, setResult] = useState(null)\r\n    const [addResultModal, setAddResultModal] = useState(null);\r\n    const [previewFiles, setPreviewFiles] = useState([]);\r\n    const { moveToRead } = useRoomCustomMove();\r\n    const uploadRef = useRef();\r\n\r\n    useEffect(() => {\r\n        getOne(roomNo).then(data => {\r\n            console.log(data)\r\n            console.log(roomNo)\r\n            setShareRoom(data)\r\n        })\r\n    }, [roomNo])\r\n\r\n    const setAddress = (address) => {\r\n        setShareRoom((prev) => ({ ...prev, location: address }));\r\n    };\r\n\r\n    const handleChangeShareRoom = (e) => {\r\n        shareRoom[e.target.name] = e.target.value\r\n        setShareRoom({ ...shareRoom });\r\n    }\r\n\r\n    const handleFileChange = (e) => {\r\n        const files = Array.from(e.target.files);\r\n        const nonImageFiles = files.filter(file => !file.type.startsWith('image/'));\r\n\r\n        if (nonImageFiles.length > 0) {\r\n            setAddResultModal(\"이미지 파일만 등록 가능합니다\");\r\n            uploadRef.current.value = \"\"; // Clear the file input\r\n            setPreviewFiles([]);\r\n            return;\r\n        }\r\n\r\n        const imagePreviews = files.map(file => ({\r\n            url: URL.createObjectURL(file),\r\n            name: file.name\r\n        }));\r\n\r\n        setPreviewFiles(imagePreviews);\r\n    }\r\n\r\n    const calculateDaysBetweenDates = (startDate, endDate) => {\r\n        const start = new Date(startDate);\r\n        const end = new Date(endDate);\r\n        const timeDiff = end.getTime() - start.getTime();\r\n        const daysDiff = timeDiff / (1000 * 3600 * 24);\r\n        return Math.round(daysDiff); // 소수점은 제거하고 정수로 반환\r\n    };\r\n\r\n    const handleClickModify = (e) => {\r\n        \r\n        const files = uploadRef.current.files;\r\n        //유효성 검사\r\n        if (!shareRoom.title || !shareRoom.userId) {\r\n            setAddResultModal(\"제목과 내용을 입력해주세요\");\r\n            return;\r\n        }\r\n        if (!shareRoom.rentFee) {\r\n            setAddResultModal('금액을 입력해 주세요');\r\n            return;\r\n        }\r\n        if (!shareRoom.option1) {\r\n        setAddResultModal('옵션을 입력해 주세요');\r\n        return;\r\n        }\r\n        if (!shareRoom.parking) {\r\n        setAddResultModal('주차 가능여부를 선택해 주세요');\r\n        return;\r\n        }\r\n        if (!shareRoom.rentStartDate || !shareRoom.rentEndDate) {\r\n        setAddResultModal('시작일과 종료일을 입력해 주세요');\r\n        return;\r\n        }\r\n        if (!shareRoom.location) {\r\n        setAddResultModal('주소를 입력해주세요');\r\n        return;\r\n        }\r\n        if (previewFiles.length === 0 && shareRoom.uploadFileNames.length === 0) {\r\n        setAddResultModal('사진을 등록해주세요');\r\n        return;\r\n        }\r\n\r\n        \r\n        const formData = new FormData();\r\n        const daysBetween = calculateDaysBetweenDates(shareRoom.rentStartDate, shareRoom.rentEndDate);\r\n        const averFee = shareRoom.rentFee / daysBetween;\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            formData.append(\"files\", files[i]);\r\n        }\r\n        //파일이 아닌 데이터를 formData에 추가\r\n        formData.append(\"title\", shareRoom.title);\r\n        formData.append(\"content\", shareRoom.content);\r\n        formData.append(\"rentFee\", shareRoom.rentFee);\r\n        formData.append(\"parking\", shareRoom.parking);\r\n        formData.append(\"option1\", shareRoom.option1);\r\n        formData.append(\"location\", shareRoom.location);\r\n        formData.append(\"rentStartDate\", shareRoom.rentStartDate);\r\n        formData.append(\"rentEndDate\", shareRoom.rentEndDate);\r\n        formData.append(\"averFee\", averFee);\r\n        formData.append(\"days\", daysBetween);\r\n        formData.append(\"uploadFileNames\", shareRoom.uploadFileNames);\r\n\r\n        console.log(formData);\r\n        modify(roomNo, formData);\r\n        setResult(\"게시글이 수정되었습니다\");\r\n    }\r\n\r\n    const handleRemoveImage = (index, isPreview) => {\r\n        if (isPreview) { //새로 추가된 이미지인 경우\r\n            setPreviewFiles(prevFiles => prevFiles.filter((_, i) => i !== index));\r\n            updateFileInput(index); //삭제된 이미지를 입력된 파일에서도 삭제\r\n        } else { //기존에 업로드된 이미지인 경우\r\n            const newUploadFileNames = shareRoom.uploadFileNames.filter((_, i) => i !== index);\r\n            shareRoom.uploadFileNames = newUploadFileNames;\r\n            setShareRoom({ ...shareRoom });\r\n        }\r\n    };\r\n\r\n    // 입력된 파일 업데이트\r\n    const updateFileInput = (removeIndex) => {\r\n        const dataTransfer = new DataTransfer();\r\n        const files = Array.from(uploadRef.current.files);\r\n        files.forEach((file, index) => {\r\n            if (index !== removeIndex) { //removeIndex와 일치하지 않는 파일만 dataTransfer에 추가\r\n                dataTransfer.items.add(file);\r\n            }\r\n        });\r\n        uploadRef.current.files = dataTransfer.files; //제거된 파일 반영\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setResult(null);\r\n        moveToRead(roomNo);\r\n    }\r\n\r\n    return (\r\n        <div id=\"full\" className=\"w-[1200px] h-full mx-auto\">\r\n            {result && <ResultModal title={'알림'} content={`${result}`} callbackFn={closeModal} />}\r\n            {addResultModal && (\r\n                <ResultModal title={'알림'} content={`${addResultModal}`} callbackFn={() => setAddResultModal(null)} />\r\n            )}\r\n            <div id=\"title-area\" className=\"pt-[80px] pb-[64px]\">\r\n                <h1 className=\"text-5xl text-gray-900 leading-3 font-bold text-center tracking-tighter\">\r\n                    정보 수정\r\n                </h1>\r\n            </div>\r\n            <div id=\"main-area\" className=\"w-full\">\r\n                <section id=\"info\" className=\"\">\r\n                    <header className=\"flex items-end justify-between mb-4\">\r\n                        <h1 className=\"text-xl text-gray-900 leading-8 font-bold \">방 정보</h1>\r\n                    </header>\r\n                    <table id=\"select-info\" className=\"w-full border-t-2 border-gray-900 border-collapse\">\r\n                        <colgroup>\r\n                            <col className=\"w-[150px]\"></col>\r\n                            <col></col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        제목\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"\">\r\n                                                    <input type=\"text\" value={shareRoom.title} onChange={handleChangeShareRoom} name=\"title\" className=\"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none\">\r\n                                                    </input>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        상세설명\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <label className=\"flex flex-col w-full h-48 py-2.5 px-4 relative\">\r\n                                                    <div className=\"flex-grow flex items-start w-full h-full\">\r\n                                                        <textarea row=\"3\" value={shareRoom.content} onChange={handleChangeShareRoom} name=\"content\" className=\"py-2.5 px-4 text-gray-900 text-sm leading-6 font-normal border bg-transparent absolute inset-0.5 select-none resize-none z-10\">\r\n                                                        </textarea>\r\n                                                    </div>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        금액 (전체기간)\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-[160px]\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"block w-full h-11 relative\">\r\n                                                    <input type=\"text\" value={shareRoom.rentFee} onChange={handleChangeShareRoom} name=\"rentFee\" className=\"w-full h-full text-gray-900 text-sm leading-6 font-normal px-9 border border-gray-200 rounded-sm bg-white select-none\">\r\n                                                    </input>\r\n                                                    <p className=\"text-gray-900 text-sm leading-6 font-normal whitespace-nowrap absolute top-1/4 right-4 pointer-events-none select-none\">원</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        옵션\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"\">\r\n                                                    <input type=\"text\" value={shareRoom.option1} onChange={handleChangeShareRoom} name=\"option1\" className=\"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none\">\r\n                                                    </input>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        주차\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"flex items-start justify-start w-full\">\r\n                                        <div className=\"flex-none w-auto\">\r\n                                            <div className=\"flex w-full pt-0 pb-0\">\r\n                                                <div className=\"flex-grow flex flex-wrap justify-start mt-[-20px] ml-[-16px]\">\r\n                                                    <label className=\"mt-5 ml-4 flex-none flex items-start justify-start max-w-full pt-0 pb-0\">\r\n                                                        <input className=\"flex-none w-6 h-6 m-0 border-0 rounded-full appearance-none cursor-pointer\"\r\n                                                            type=\"radio\"\r\n                                                            name=\"parking\"\r\n                                                            value=\"O\"\r\n                                                            checked={shareRoom.parking === 'O'}\r\n                                                            onChange={handleChangeShareRoom}\r\n                                                            style={{ backgroundImage: shareRoom.parking === 'O' ? `url(${Image2})` : `url(${Image1})`, backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }}></input>\r\n                                                        <p className=\"pl-1 text-black text-sm leading-6 select-none cursor-pointer\">가능</p>\r\n                                                    </label>\r\n                                                    <label className=\"mt-5 ml-4 flex-none flex items-start justify-start max-w-full pt-0 pb-0\">\r\n                                                        <input className=\"flex-none w-6 h-6 m-0 border-0 rounded-full appearance-none cursor-pointer\"\r\n                                                            type=\"radio\"\r\n                                                            name=\"parking\"\r\n                                                            value=\"X\"\r\n                                                            checked={shareRoom.parking === 'X'}\r\n                                                            onChange={handleChangeShareRoom}\r\n                                                            style={{ backgroundImage: shareRoom.parking === 'X' ? `url(${Image2})` : `url(${Image1})`, backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }}></input>\r\n                                                        <p className=\"pl-1 text-black text-sm leading-6 select-none cursor-pointer\">불가능</p>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        시작일\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"\">\r\n                                                    <input type=\"date\" value={shareRoom.rentStartDate} onChange={handleChangeShareRoom} name=\"rentStartDate\" className=\"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none\">\r\n                                                    </input>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        종료일\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"\">\r\n                                                    <input type=\"date\" value={shareRoom.rentEndDate} onChange={handleChangeShareRoom} name=\"rentEndDate\" className=\"w-full h-full text-gray-900 text-sm leading-6 font-normal px-4 border border-gray-200 rounded-sm bg-white select-none\">\r\n                                                    </input>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        주소\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"w-auto\">\r\n                                        <div className=\"w-full flex\">\r\n                                            <div className=\"flex-grow flex flex-wrap justify-start\">\r\n                                                <div className=\"\">\r\n                                                    <div className=\"relative mb-4 flex w-full flex-wrap items-stretch\">\r\n                                                        <div className=\"flex\">\r\n                                                            <div className=\"w-full pl-1\">\r\n                                                                <input className=\"w-full h-full text-gray-700 text-base leading-6 font-normal px-4 border border-gray-300 rounded-sm bg-white transition-all duration-150 ease-out select-none\" name=\"address\" type=\"text\"\r\n                                                                    placeholder=\"주소(우편번호 및 도로명 검색)\" value={shareRoom.location} />\r\n                                                            </div>\r\n                                                            <div className=\"w-1/5 text-base\">\r\n                                                                <PostComponentForRoom setAddress={setAddress}></PostComponentForRoom>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </section>\r\n                <section id=\"photo\" className=\"mt-12\">\r\n                    <header className=\"flex items-end justify-between mb-4\">\r\n                        <h1 className=\"text-xl text-gray-900 leading-8 font-bold \">사진 등록</h1>\r\n                    </header>\r\n                    <table id=\"select-info\" className=\"w-full border-t-2 border-gray-900 border-collapse\">\r\n                        <colgroup>\r\n                            <col className=\"w-[150px]\"></col>\r\n                            <col></col>\r\n                        </colgroup>\r\n                        <tbody>\r\n                            <tr className=\"border-b border-neutral-200\">\r\n                                <th className=\"pl-5 text-left align-middle bg-neutral-100\">\r\n                                    <h1 className=\"text-[14px] text-gray-900 leading-6 font-bold\">\r\n                                        방 사진\r\n                                    </h1>\r\n                                </th>\r\n                                <td className=\"align-middle px-4 py-5 border-l border-neutral-200\">\r\n                                    <div className=\"col-start-3 col-span-4 mt-2 border rounded overflow-x-scroll whitespace-nowrap\">\r\n                                        {shareRoom.uploadFileNames.map((imgFile, index) =>\r\n                                            <div key={index} className=\"relative m-3 w-36 h-36 inline-block align-top border\">\r\n                                                <img src={`${host}/api/shareRoom/display/${imgFile}`} alt=\"shareRoom\" className=\"w-36 h-36 object-cover\" />\r\n                                                <button type=\"button\" onClick={() => handleRemoveImage(index, false)}\r\n                                                    className=\"absolute top-2 right-2 bg-slate-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-slate-600\"\r\n                                                    aria-label=\"Remove image\">\r\n                                                    X\r\n                                                </button>\r\n                                            </div>\r\n                                        )}\r\n                                        {previewFiles.map((file, index) => (\r\n                                            <div key={index} className=\"relative m-3 w-36 h-36 inline-block align-top border\">\r\n                                                <img src={file.url} alt={file.name} className=\"w-36 h-36 object-cover\" />\r\n                                                <button type=\"button\" onClick={() => handleRemoveImage(index, true)}\r\n                                                    className=\"absolute top-2 right-2 bg-slate-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-slate-600\"\r\n                                                    aria-label=\"Remove image\">\r\n                                                    X\r\n                                                </button>\r\n                                            </div>\r\n                                        ))}\r\n                                        <div className=\"relative inline-block m-3 w-36 h-36 border-2 border-gray-300 border-dashed rounded-md items-center justify-center cursor-pointer hover:bg-slate-100\">\r\n                                            <input ref={uploadRef} id=\"file-upload\" type=\"file\" multiple={true}\r\n                                                onChange={handleFileChange} className=\"absolute inset-0 opacity-0 cursor-pointer\" />\r\n                                            <label htmlFor=\"file-upload\" className=\"text-mainColor font-bold text-4xl flex flex-col items-center justify-center h-full w-full\">\r\n                                                +\r\n                                                <span className=\"text-base mt-1\">이미지 첨부</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </section>\r\n                <div className=\"flex justify-end\">\r\n                    <div className=\"relative mb-4 flex p-4 flex-wrap items-stretch\">\r\n                        <button type=\"button\" className=\"rounded p-4 w-36 bg-blue-500 text-xl text-white\"\r\n                            onClick={handleClickModify}>수정하기</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default ModifyComponent;\r\n","import { useParams } from 'react-router-dom';\r\nimport ModifyComponent from '../../components/shareRoom/ModifyComponent';\r\n\r\nconst ModifyPage = () => {\r\n  const {roomNo} = useParams();\r\n  return (\r\n    <ModifyComponent roomNo={roomNo}/>\r\n  );\r\n};\r\n\r\nexport default ModifyPage;\r\n"],"names":["initState","roomNo","title","content","rentFee","parking","option1","location","files","uploadFileNames","host","API_SERVER_HOST","_ref","shareRoom","setShareRoom","useState","result","setResult","addResultModal","setAddResultModal","previewFiles","setPreviewFiles","moveToRead","useRoomCustomMove","uploadRef","useRef","useEffect","getOne","then","data","console","log","handleChangeShareRoom","e","target","name","value","handleRemoveImage","index","isPreview","prevFiles","filter","_","i","updateFileInput","newUploadFileNames","removeIndex","dataTransfer","DataTransfer","Array","from","current","forEach","file","items","add","_jsxs","id","className","children","_jsx","ResultModal","concat","callbackFn","closeModal","type","onChange","row","checked","style","backgroundImage","Image2","Image1","backgroundSize","backgroundPosition","backgroundRepeat","rentStartDate","rentEndDate","placeholder","PostComponentForRoom","setAddress","address","prev","map","imgFile","src","alt","onClick","url","ref","multiple","startsWith","length","imagePreviews","URL","createObjectURL","htmlFor","userId","formData","FormData","daysBetween","calculateDaysBetweenDates","startDate","endDate","start","Date","daysDiff","getTime","Math","round","averFee","append","modify","ModifyPage","useParams","ModifyComponent"],"sourceRoot":""}