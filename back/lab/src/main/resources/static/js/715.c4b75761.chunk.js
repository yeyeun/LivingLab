"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[715],{74969:(e,t,a)=>{a.d(t,{Cc:()=>r,GQ:()=>o,Q8:()=>c,UX:()=>d,h4:()=>m,jX:()=>x,yw:()=>n,z5:()=>i});var s=a(86213);const l="".concat("http://localhost:8282","/chat"),r=async(e,t,a)=>(await s.A.post("".concat(l,"/room/create"),a,{params:{userId:e,title:t}})).data,c=async e=>(await s.A.get("".concat(l,"/rooms"),{params:{userId:e}})).data,n=async e=>(await s.A.get("".concat(l,"/room/buy/get"),{params:{buyNo:e}})).data,o=async e=>(await s.A.post("".concat(l,"/room/buy/enter"),e)).data,d=async e=>(await s.A.post("".concat(l,"/room/buy/exit"),e)).data,i=async e=>(await s.A.get("".concat(l,"/room/team/get"),{params:{teamNo:e}})).data,x=async e=>(await s.A.post("".concat(l,"/room/team/enter"),e)).data,m=async e=>(await s.A.post("".concat(l,"/room/team/exit"),e)).data},715:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(65043),l=a(83003),r=a(74969),c=a(70579);const n=e=>{let{onSelectChat:t}=e;const[a,n]=(0,s.useState)(""),o=(0,l.d4)((e=>e.loginSlice)).id;(0,s.useEffect)((()=>{(0,r.Q8)(o).then((e=>{n(e)}))}),[o]);return(0,c.jsx)("div",{className:"h-full",children:a.data&&a.data.length>0?a.data.map((e=>(0,c.jsxs)("div",{className:"py-7 px-5 cursor-pointer hover:bg-gray-100 border-b flex items-center",onClick:()=>t(e),children:[(0,c.jsx)("img",{src:"https://via.placeholder.com/40",alt:"...",className:"w-10 h-10 rounded-full mr-4"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-lg font-bold",children:e.title}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"\ucc44\ud305\ubc29 \ub9c8\uc9c0\ub9c9 \uba54\uc138\uc9c0"})]})]},e.roomId))):(0,c.jsx)("div",{className:"p-7 flex items-center",children:"\ucc38\uc5ec \uc911\uc778 \ucc44\ud305\ubc29\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})})},o=e=>{let{message:t}=e;return(0,c.jsx)("div",{children:"me"===t.sender?(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("div",{className:"px-4 py-2 m-2 rounded-3xl text-lg bg-mainColor text-white shadow",children:t.text})}):(0,c.jsxs)("div",{className:"flex justify-start items-center ml-2",children:[(0,c.jsx)("img",{src:"https://via.placeholder.com/40",alt:"Profile",className:"rounded-full w-10 h-10"}),(0,c.jsx)("div",{className:"px-4 py-2 m-2 rounded-3xl text-lg bg-white text-black shadow",children:t.text})]})})},d=e=>{let{onSend:t}=e;const[a,l]=(0,s.useState)(""),r=e=>{e.preventDefault(),a.trim()&&(t(a),l(""))};return(0,c.jsxs)("form",{onSubmit:r,className:"flex p-4 bg-white border-t rounded-b",children:[(0,c.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&r(e)},className:"flex-1 p-2 border rounded-3xl text-base",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,c.jsx)("button",{type:"submit",className:"ml-2 p-2 bg-teal-400 hover:bg-teal-500 text-white rounded-lg text-base",children:"\ubcf4\ub0b4\uae30"})]})};var i=a(73216);const x=e=>{let{chat:t}=e;(0,i.Zp)();const[a,l]=(0,s.useState)([{id:1,text:"\uc548\ub155!",sender:"other"},{id:2,text:"\uc624\ub79c\ub9cc\uc774\uc57c",sender:"other"},{id:3,text:"\uc798 \uc9c0\ub0b4?",sender:"me"}]),[r,n]=(0,s.useState)(!1),x=()=>{n(!r)},{label:m,value:h}=(u=t).buyNo?{label:"\uacf5\ub3d9\uad6c\ub9e4",value:u.buyNo}:u.teamNo?{label:"\ub3d9\ub124\ubaa8\uc784",value:u.teamNo}:u.marketNo?{label:"\ub3d9\ub124\uc7a5\ud130",value:u.marketNo}:u.roomNo?{label:"\uc790\ucde8\ubc29\uc250\uc5b4",value:u.roomNo}:{label:"-",value:""};var u;return(0,c.jsxs)("div",{className:"flex flex-col h-full",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-600 text-white rounded-t",children:[(0,c.jsxs)("div",{className:"text-sm flex items-center",children:[(0,c.jsx)("span",{className:"bg-mainColor px-2 py-1 mr-1 rounded-2xl",children:m}),(0,c.jsx)("span",{className:"hover:underline cursor-pointer",children:t.title})]}),(0,c.jsxs)("div",{className:"text-sm flex items-center",children:[(0,c.jsx)("span",{className:"bg-white px-2 py-1 ml-1 rounded text-black font-bold",children:"2 / 3"}),(0,c.jsx)("button",{onClick:x,className:"ml-2 bg-gray-700 hover:bg-gray-500 text-white rounded-full w-8 h-8 flex items-center justify-center",children:"\u2630"})]})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto p-2 bg-slate-100 relative overflow-x-hidden",children:[a.map((e=>(0,c.jsx)(o,{message:e},e.id))),(0,c.jsxs)("div",{className:"absolute top-0 right-0 h-full bg-white shadow-lg transition-transform transform ".concat(r?"translate-x-0":"translate-x-full"," w-1/3"),children:[(0,c.jsxs)("div",{className:"p-4 border-b",children:[(0,c.jsx)("h2",{className:"text-base font-bold",children:"\ucc38\uc5ec\uc790 \ubaa9\ub85d"}),(0,c.jsx)("button",{onClick:x,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",children:"\xd7"})]}),(0,c.jsx)("div",{className:"p-4 text-base",children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"\ucc38\uc5ec\uc790 1"}),(0,c.jsx)("li",{children:"\ucc38\uc5ec\uc790 2"})]})})]})]}),(0,c.jsx)(d,{onSend:e=>{l([...a,{id:a.length+1,text:e,sender:"me"}])}})]})},m=()=>{const[e,t]=(0,s.useState)(null);return(0,c.jsx)("div",{className:"text-xl flex-grow h-screen flex w-4/5",children:(0,c.jsx)("div",{className:"bg-white w-full rounded h-4/5 shadow-md flex flex-col",children:(0,c.jsx)("div",{className:"flex-grow flex flex-col h-full",children:(0,c.jsxs)("div",{id:"chatall",className:"flex-grow flex h-0",children:[(0,c.jsx)("div",{className:"w-1/3 overflow-y-auto no-scrollbar",children:(0,c.jsx)(n,{onSelectChat:e=>{t(e)}})}),(0,c.jsx)("div",{className:"w-2/3",children:e?(0,c.jsx)(x,{chat:e}):(0,c.jsx)("div",{id:"chatwin",className:"flex items-center justify-center h-full border-l border-gray-300",children:(0,c.jsx)("p",{className:"text-gray-600",children:"\ucc44\ud305 \ubaa9\ub85d \uc911 \ucc44\ud305\ud560 \ubc29\uc744 \uc120\ud0dd\ud558\uc138\uc694"})})})]})})})})}}}]);
//# sourceMappingURL=715.c4b75761.chunk.js.map